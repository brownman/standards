// Generated by CoffeeScript 1.3.3

$(function() {
  var name, timezone;
  $(document).on('click tap', 'a[href]', function(event) {
    if (!~$(event.target).attr('href').indexOf('http:')) {
      event.preventDefault();
      return window.location = $(event.target).attr('href');
    }
  });
  $('button.forgot').click(function(e) {
    e.preventDefault();
    $(this).parents('form').attr("action", 'https://mystandards.herokuapp.com/forgot');
    return $(this).parents('form').submit();
  });
  $('input#name').keyup(function() {
    if ($(this).val().length > 1) {
      if (!$(this).parents('.control-group').hasClass('success')) {
        return $(this).parents('.control-group').toggleClass("success");
      }
    } else {
      if ($(this).parents('.control-group').hasClass('success')) {
        return $(this).parents('.control-group').toggleClass("success");
      }
    }
  });
  $('input#email').keyup(function() {
    var filter;
    filter = /(.+)@(.+){2,}\.(.+){2,}/;
    if (filter.test($(this).val())) {
      if (!$(this).parents('.control-group').hasClass('success')) {
        return $(this).parents('.control-group').toggleClass("success");
      }
    } else {
      if ($(this).parents('.control-group').hasClass('success')) {
        return $(this).parents('.control-group').toggleClass("success");
      }
    }
  });
  $('input#password').keyup(function() {
    if ($(this).val().length >= 8) {
      if (!$(this).parents('.control-group').hasClass('success')) {
        return $(this).parents('.control-group').toggleClass("success");
      }
    } else {
      if ($(this).parents('.control-group').hasClass('success')) {
        return $(this).parents('.control-group').toggleClass("success");
      }
    }
  });
  timezone = jstz.determine();
  name = timezone.name();
  $('input#timezone').val(name);
  return new FastClick(document.body);
});
